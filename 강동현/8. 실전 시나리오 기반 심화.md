# ì‹¤ì „ ì‹œë‚˜ë¦¬ì˜¤ ê¸°ë°˜ ì‹¬í™” ì˜ˆì œ ë¶„ì„
## ğŸ’¡ 1. ì…ë ¥ ì§€ì—° ëŒ€ì‘: useDebounce, useDeferredValue

ğŸŸ¦ useDebounce: ì§ì ‘ êµ¬í˜„í•˜ì—¬ ì‚¬ìš© (ì…ë ¥ ì§€ì—° í›„ ìš”ì²­ ë“±)
```tsx
function useDebounce(value, delay = 300) {
  const [debounced, setDebounced] = useState(value);

  useEffect(() => {
    const timer = setTimeout(() => setDebounced(value), delay);
    return () => clearTimeout(timer); // âœ… clean-up
  }, [value, delay]);

  return debounced;
}
```
**ì‚¬ìš© ì˜ˆì‹œ:**
```tsx

const debouncedSearch = useDebounce(searchInput);
useEffect(() => {
  fetchData(debouncedSearch);
}, [debouncedSearch]);
```
âœ… ì¥ì : API ìš”ì²­ ë‚¨ë°œ ë°©ì§€
âš ï¸ ì£¼ì˜: UX ë”œë ˆì´ê°€ ìˆìŒ (í‚¤ ì…ë ¥ì— ì¦‰ì‹œ ë°˜ì‘ X)

ğŸŸ© useDeferredValue: ìë™ ì§€ì—° ì²˜ë¦¬ (React 18+)
```tsx
const deferredInput = useDeferredValue(searchInput);
```
- ì…ë ¥ì€ ì¦‰ì‹œ ë°˜ì˜ë˜ì§€ë§Œ, ë Œë”ë§ ìš°ì„ ìˆœìœ„ ë‚®ì¶¤ â†’ UI ë¸”ë¡œí‚¹ ë°©ì§€
- ë¹„ë™ê¸° ìš”ì²­ì—ëŠ” ì í•©í•˜ì§€ ì•Šê³ , ë¬´ê±°ìš´ ë¦¬ìŠ¤íŠ¸ í•„í„°ë§ ë“±ì— ì í•©

```tsx
const filteredList = useMemo(() => {
  return allItems.filter(item => item.includes(deferredInput));
}, [deferredInput]);
```
## ğŸ’¡ 2. ì»´í¬ë„ŒíŠ¸ ê°„ ìƒíƒœ ê³µìœ : useContext + useReducer
- ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ê°€ ê°™ì€ ìƒíƒœë¥¼ ë³´ê³ , ì¡°ì‘í•˜ëŠ” ê²½ìš°
- ê¸€ë¡œë²Œ ìƒíƒœ ê´€ë¦¬ ë„ì… ì „ì˜ ê²½ëŸ‰ ìƒíƒœ ê³µìœ  ë°©ë²•

ì»¨í…ìŠ¤íŠ¸ + ë¦¬ë“€ì„œ êµ¬ì¡°
```tsx
// StateContext.js
const StateContext = createContext();
const DispatchContext = createContext();

const initialState = { count: 0 };

function reducer(state, action) {
  switch (action.type) {
    case 'INC':
      return { count: state.count + 1 };
    default:
      return state;
  }
}

export function StateProvider({ children }) {
  const [state, dispatch] = useReducer(reducer, initialState);

  return (
    <StateContext.Provider value={state}>
      <DispatchContext.Provider value={dispatch}>
        {children}
      </DispatchContext.Provider>
    </StateContext.Provider>
  );
}

export const useAppState = () => useContext(StateContext);
export const useAppDispatch = () => useContext(DispatchContext);
```
âœ… ì¥ì :
- ìƒíƒœ ë¡œì§ì„ ì™¸ë¶€ë¡œ ë¶„ë¦¬ â†’ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥ì„± ì¦ê°€
- Redux ìŠ¤íƒ€ì¼ ìƒíƒœ íë¦„ ì—°ìŠµ ê°€ëŠ¥

## ğŸ’¡ 3. ë¹„ë™ê¸° ìš”ì²­ ì·¨ì†Œ: AbortController + useEffect cleanup
ìš”ì²­ ë„ì¤‘ ì»´í¬ë„ŒíŠ¸ê°€ ì–¸ë§ˆìš´íŠ¸ë˜ë©´, fetch ì·¨ì†Œ ì•ˆí•˜ë©´ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜

```tsx
useEffect(() => {
  const controller = new AbortController();

  fetch('/api/data', { signal: controller.signal })
    .then(res => res.json())
    .then(setData)
    .catch(err => {
      if (err.name === 'AbortError') {
        console.log('ìš”ì²­ ì·¨ì†Œë¨');
      }
    });

  return () => controller.abort(); // âœ… clean-up
}, [url]);
```
âœ… signalì„ í†µí•´ fetch ì·¨ì†Œ ê°€ëŠ¥
âš ï¸ ë°˜ë“œì‹œ catchë¡œ ì—ëŸ¬ ì²˜ë¦¬ í•„ìš”

## ğŸ’¡ 4. stale ìƒíƒœì—ì„œ ë¬´í•œ ë£¨í”„ ë°©ì§€í•˜ê¸°
ë¬¸ì œ ì˜ˆì‹œ: useEffectì—ì„œ ìƒíƒœ set â†’ ë‹¤ì‹œ useEffect íŠ¸ë¦¬ê±° â†’ ë¬´í•œ ë£¨í”„
```tsx
useEffect(() => {
  setValue(props.value); // âŒ props.valueê°€ ê³„ì† ë°”ë€ŒëŠ” êµ¬ì¡°ë©´ ë¬´í•œ ë£¨í”„
}, [value]);
```
í•´ê²° ì „ëµ:
- ì •í™•í•œ deps ì„¤ì •: useEffect(() => ..., [props.value])
- ì¡°ê±´ë¬¸ ì‚¬ìš©:

```tsx
useEffect(() => {
  if (value !== props.value) {
    setValue(props.value);
  }
}, [props.value]);
```
- ë˜ëŠ” useRefë¡œ ì´ì „ ê°’ ì¶”ì í•˜ì—¬ ë³€ê²½ ê°ì§€

```tsx
const prev = useRef();
useEffect(() => {
  if (prev.current !== props.value) {
    setValue(props.value);
    prev.current = props.value;
  }
}, [props.value]);
```

## ğŸ§  ìš”ì•½ í‘œ
|ì‹œë‚˜ë¦¬ì˜¤|	ê¸°ìˆ  ìŠ¤íƒ|	í•µì‹¬|
|-|-|-|
|ì…ë ¥ ì§€ì—°|	useDebounce, useDeferredValue|	ìš”ì²­ ìµœì í™” or UI ë¹„ë™ê¸° ì²˜ë¦¬|
|ìƒíƒœ ê³µìœ |	useContext + useReducer|	ìƒíƒœ ì¤‘ì•™ ì§‘ì¤‘ ê´€ë¦¬|
|ìš”ì²­ ì·¨ì†Œ|	AbortController + clean-up|	fetch ëˆ„ìˆ˜ ë°©ì§€|
|ë¬´í•œ ë£¨í”„|	deps ì •í™•íˆ ê´€ë¦¬ or ì¡°ê±´ ë¶„ê¸°|	ë Œë”ë§ í­ì£¼ ë°©ì§€|

